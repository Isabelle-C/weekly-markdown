{% extends 'base.html' %}

{% block head %}
<title>Task Master</title>
{% endblock %}

{% block body %}
<div class="content">
    <h1 style="text-align: center">Update Task</h1>

    <div class="form">
        <form action="/update/{{task.id}}" method="POST">
            <label for="task_name">Task Name</label>
            <input type="text" name="task_name" id="task_name" value="{{task.task_name}}">
            <br>
            <label for="tag">Tag</label>
            <input list="tags" name="tag" id="tag" value="{{task.tag}}">
            <datalist id="tags">
                {% for tag in unique_tags %}
                    <option value="{{ tag[0] }}">{{ tag[0] }}</option>
                    <option value="{{ tag[0] }}" {% if task.tag == '{{ tag[0] }}' %} selected {% endif %}>"{{ tag[0] }}"</option>
                {% endfor %}
            </datalist>
            <br>
            <label for="due_date">Due Date</label>
            <input type="date" name="due_date" id="due_date" value="{{task.due_date.date()}}">
            <br>
            <label for="priority">Priority</label>
            <select name="priority" id="priority">
                <option value="low" {% if task.priority == 'low' %} selected {% endif %}>Low</option>
                <option value="medium" {% if task.priority == 'medium' %} selected {% endif %}>Medium</option>
                <option value="high" {% if task.priority == 'high' %} selected {% endif %}>High</option>
                <option value="urgent" {% if task.priority == 'urgent' %} selected {% endif %}>Urgent</option>
            </select>
            <br>
            <input type="submit" value="Update">
        </form>
    </div>
</div>
{% endblock %}